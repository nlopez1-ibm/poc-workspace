################################################################
# LICENSED MATERIALS - PROPERTY OF IBM
# "RESTRICTED MATERIALS OF IBM"
# (C) COPYRIGHT IBM CORPORATION 2020, 2022. ALL RIGHTS RESERVED
# US GOVERNMENT USERS RESTRICTED RIGHTS - USE, DUPLICATION,
# OR DISCLOSURE RESTRICTED BY GSA ADP SCHEDULE
# CONTRACT WITH IBM CORPORATION
################################################################

## njl hard code stuff to get it up and running fast.  can be improved.
## not sure where to put old var in vscode json setting here.  exemple did not have them???


name: poc-app-zapp
description: For IBM Z Open Editor 3.0.0 or newer. Wazi's code samples with COBOL, PL/I, and HLASM applications
version: 3.0.0
author:
  name: IBM CORPORATION

propertyGroups:
  - name: cobol-copybooks
    language: cobol
    libraries:
      - name: syslib
        type: local
        locations:
          - "**/copybook"
      - name: syslib
        type: mvs
        locations:
          - "IBMUSER.IDZ.COBCOPY"
      - name: MYLIB
        type: mvs
        locations:
          - IBMUSER.IDZ.COPYLIB
     
profiles:
  - name: dbb-userbuild
    type: dbb
    settings:
      application: poc-app
      command: "$DBB_HOME/bin/groovyz "
      buildScriptPath: "/u/ibmuser/waziDBB/dbb-v2/dbb-zappbuild/build.groovy"
      buildScriptArgs:
        - "--userBuild"
        - "--workspace /u/ibmuser/vsCode_workspace/poc-app"
        - "--application poc-app"
        - "--hlq IBMUSER.VSC"
        - "--outDir /u/ibmuser/vsCode_workspace/dbb-logs"
        - "--dependencyFile ${dependencyFile}"
      additionalDependencies:
        - application-conf
        - "zapp*"
      logFilePatterns:
        - "${buildFile.basename}.log"
        - "BuildReport.*"